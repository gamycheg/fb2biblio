# fb2biblio
<h2>Библиотека для fb2 книг(в разработке)</h2> 
<i></i>Спасибо <a href="https://github.com/iooe">iooe</a>
за <a href="https://github.com/iooe/FB2-Parser">FB2-Parser</a> 
с ним реализация сканера стала намного проще!</i>
<hr>
<h3>Нужно для работы:</h3>
<ul>
  <li>PHP 7+(делал на 7.4)</li>
  <li>MySQL (на сервере 9.1.0)</li>
</ul>
<hr>
<h3>Установка:</h3>
<ul>
  <li>Проверить что сервер соответствует требованиям выше</li> 
  <li>Распаковать архив на сервер</li>
  <li>Установить зависимости через composer install</li>
  <li>Создать БД и таблицы(файл createdb.sql)</li>
  <li>В файле funct.php прописать пароль к БД</li>
  <li>В файле scan.php прописать путь к директории с книгами</li>
  <li>Запустить scan.php(Желательно из консоли)</li>
</ul>


<hr>
<h3>План работ</h3>
<ul>
  <li>(в процессе)Сделать сканер</li>
  <li>(в процессе)Написать хоть какойто фронт</li>
  <li>Написать скрипт для работы OPDS</li>
</ul>


<hr>
<h3>Changelog:</h3>
<b>30.04.2025</b><br>
Допилил сканер.Отлавливаю исключения.<br>
Сканер пробегает указанную директорию, смотрит все папки и zip архивы(rar поидее тоже но не проверял), находит все fb2 файлы.
Каждый fb2 файл проверяется на валидность, невалидные добавляются в таблицу badbooks, валидные разбираются и добавляются в books,authors и прочие.
Повторно книги не добавляются в базу(проверка на существование по названию файла+названия из валидного titla внутри книги.
Все сообщения сканера пишутся в scanner.log (для уменьшения вывода)
